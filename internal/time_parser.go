package internal

import (
	"fmt"
	"time"
)

var (
	layouts = []string{
		"02-01-2006T15:04:05.999999999",
		"02-01-2006T03:04:05.999999999PM",
		"02-01-2006T03:04:05.999999999 PM",
		"02-01-2006T03:04:05.999999999pm",
		"02-01-2006T03:04:05.999999999 pm",

		"02-01-2006 15:04:05.999999999",
		"02-01-2006 03:04:05.999999999PM",
		"02-01-2006 03:04:05.999999999 PM",
		"02-01-2006 03:04:05.999999999pm",
		"02-01-2006 03:04:05.999999999 pm",

		"02/01/2006T15:04:05.999999999",
		"02/01/2006T03:04:05.999999999PM",
		"02/01/2006T03:04:05.999999999 PM",
		"02/01/2006T03:04:05.999999999pm",
		"02/01/2006T03:04:05.999999999 pm",

		"02/01/2006 15:04:05.999999999",
		"02/01/2006 03:04:05.999999999PM",
		"02/01/2006 03:04:05.999999999 PM",
		"02/01/2006 03:04:05.999999999pm",
		"02/01/2006 03:04:05.999999999 pm",

		"02-01-2006",
		"02/01/2006",

		"Jan _2 15:04:05.999999999",
		"Jan _2 03:04:05.999999999PM",
		"Jan _2 03:04:05.999999999 PM",
		"Jan _2 03:04:05.999999999pm",
		"Jan _2 03:04:05.999999999 pm",

		"15:04:05.999999999",
		"03:04:05.999999999 PM",
		"03:04:05.999999999 pm",
		"03:04:05.999999999PM",
		"03:04:05.999999999pm",
	}
)

func ParseTime(input string) (time.Time, error) {
	for _, layout := range layouts {
		if t, err := time.Parse(layout, input); err == nil {
			return t, nil
		}
	}
	return time.Time{}, fmt.Errorf("%v does not match with any of the expected time string formats", input)
}
